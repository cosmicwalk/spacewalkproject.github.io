<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
        <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
        <head><title> Spacewalk DB Schema - Table-RHNCHANNEL </title>
        <link rel="stylesheet" type="text/css" href="oraschemadoc.css" />
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta name="author" content="Petr Vanek, petr@scribus.info" />
        <meta name="generator" content="oraschemadoc" />
        </head>
        <body>
            <div class="contextbar">
            <a href="main.html">Main</a>
            <a href="tables-list.html">Tables</a>
            <a href="views-list.html">Views</a>
            <a href="mviews-list.html">Materialized&nbsp;Views</a>
            <a href="indexes-list.html">Indexes</a>
            <a href="constraints-list.html">Constraints</a>
            <a href="triggers-list.html">Triggers</a>
            <a href="procedures-list.html">Procedures</a>
            <a href="functions-list.html">Functions</a>
            <a href="packages-list.html">Packages</a>
            <a href="sequences.html">Sequences</a>
            <a href="java-sources-list.html">Java&nbsp;Sources</a>
            <a href="jobs.html">Jobs</a>
            <a href="sanity-check.html">Sanity&nbsp;Check</a>
            <a href="symbol-index.html">Index</a>
            <a href="sql_sources/" target="Main">DDL&nbsp;scrips</a>
            </div><div class="subcontextbar"><a href="#t-descr">Description</a> <a href="#t-cols">Columns</a> <a href="#t-pk">Primary key</a> <a href="#t-cc">Check Constraints</a> <a href="#t-fk">Foreign keys</a> <a href="#t-uc">Unique Keys</a> <a href="#t-opt">Options</a> <a href="#t-ind">Indexes</a> <a href="#t-refs">Referenced by</a> <a href="#t-trgs">Triggers</a> <a href="#t-parts">Partitions</a> </div><h2>RHNCHANNEL</h2>
<a href="sql_sources/table/rhnchannel.sql">DDL script</a><h3>Columns<a name="t-cols"></a></h3>
<table>
<tr><th>Name</th><th>Type</th><th>Nullable</th><th>Default value</th><th>Comment</th></tr><tr><td>ID<a name="col-ID"></a></td><td>NUMBER(38)</td><td>N</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>PARENT_CHANNEL<a name="col-PARENT_CHANNEL"></a></td><td>NUMBER(38)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>ORG_ID<a name="col-ORG_ID"></a></td><td>NUMBER(38)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>CHANNEL_ARCH_ID<a name="col-CHANNEL_ARCH_ID"></a></td><td>NUMBER(38)</td><td>N</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>LABEL<a name="col-LABEL"></a></td><td>VARCHAR2(128)</td><td>N</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>BASEDIR<a name="col-BASEDIR"></a></td><td>VARCHAR2(256)</td><td>N</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>NAME<a name="col-NAME"></a></td><td>VARCHAR2(256)</td><td>N</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>SUMMARY<a name="col-SUMMARY"></a></td><td>VARCHAR2(500)</td><td>N</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>DESCRIPTION<a name="col-DESCRIPTION"></a></td><td>VARCHAR2(4000)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>PRODUCT_NAME_ID<a name="col-PRODUCT_NAME_ID"></a></td><td>NUMBER(38)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>GPG_KEY_URL<a name="col-GPG_KEY_URL"></a></td><td>VARCHAR2(256)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>GPG_KEY_ID<a name="col-GPG_KEY_ID"></a></td><td>VARCHAR2(14)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>GPG_KEY_FP<a name="col-GPG_KEY_FP"></a></td><td>VARCHAR2(50)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>END_OF_LIFE<a name="col-END_OF_LIFE"></a></td><td>TIMESTAMP(6) WITH LOCAL TIME ZONE</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>CHECKSUM_TYPE_ID<a name="col-CHECKSUM_TYPE_ID"></a></td><td>NUMBER(38)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>RECEIVING_UPDATES<a name="col-RECEIVING_UPDATES"></a></td><td>CHAR(1)</td><td>N</td><td>('Y') </td><td>&nbsp;</td></tr>
<tr><td>LAST_MODIFIED<a name="col-LAST_MODIFIED"></a></td><td>TIMESTAMP(6) WITH LOCAL TIME ZONE</td><td>N</td><td>(current_timestamp) </td><td>&nbsp;</td></tr>
<tr><td>LAST_SYNCED<a name="col-LAST_SYNCED"></a></td><td>TIMESTAMP(6) WITH LOCAL TIME ZONE</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>CHANNEL_PRODUCT_ID<a name="col-CHANNEL_PRODUCT_ID"></a></td><td>NUMBER(38)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>CHANNEL_ACCESS<a name="col-CHANNEL_ACCESS"></a></td><td>VARCHAR2(10)</td><td>Y</td><td>('private')</td><td>&nbsp;</td></tr>
<tr><td>MAINT_NAME<a name="col-MAINT_NAME"></a></td><td>VARCHAR2(128)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>MAINT_EMAIL<a name="col-MAINT_EMAIL"></a></td><td>VARCHAR2(128)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>MAINT_PHONE<a name="col-MAINT_PHONE"></a></td><td>VARCHAR2(128)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>SUPPORT_POLICY<a name="col-SUPPORT_POLICY"></a></td><td>VARCHAR2(256)</td><td>Y</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td>CREATED<a name="col-CREATED"></a></td><td>TIMESTAMP(6) WITH LOCAL TIME ZONE</td><td>N</td><td>(current_timestamp) </td><td>&nbsp;</td></tr>
<tr><td>MODIFIED<a name="col-MODIFIED"></a></td><td>TIMESTAMP(6) WITH LOCAL TIME ZONE</td><td>N</td><td>(current_timestamp) </td><td>&nbsp;</td></tr>
</table><h3>Primary key:<a name="t-pk"></a></h3>
<table>
<tr><th>Constraint Name</th><th>Columns</th></tr><tr><td>RHN_CHANNEL_ID_PK<a name="cs-RHN_CHANNEL_ID_PK"></a></td><td><a href="table-RHNCHANNEL.html#col-ID">ID </a>
</td></tr>
</table><h3>Check Constraints:<a name="t-cc"></a></h3>
<table>
<tr><th>Constraint Name</th><th>Check Condition</th></tr><tr><td>RHN_CHANNEL_RU_CK<a name="cs-RHN_CHANNEL_RU_CK"></a></td><td>receiving_updates in ('Y', 'N')</td></tr>
</table><h3>Foreign Keys:<a name="t-fk"></a></h3>
<table>
<tr><th>Constraint Name</th><th>Columns</th><th>Referenced table</th><th>Referenced Constraint</th><th>On Delete Rule</th></tr><tr><td>RHN_CHANNEL_CAID_FK<a name="cs-RHN_CHANNEL_CAID_FK"></a></td><td><a href="table-RHNCHANNEL.html#col-CHANNEL_ARCH_ID">CHANNEL_ARCH_ID </a>
</td><td><a href="table-RHNCHANNELARCH.html"> RHNCHANNELARCH </a></td><td><a href="table-RHNCHANNELARCH.html#cs-RHN_CARCH_ID_PK">RHN_CARCH_ID_PK </a>
</td><td>NO ACTION</td></tr>
<tr><td>RHN_CHANNEL_CHECKSUM_FK<a name="cs-RHN_CHANNEL_CHECKSUM_FK"></a></td><td><a href="table-RHNCHANNEL.html#col-CHECKSUM_TYPE_ID">CHECKSUM_TYPE_ID </a>
</td><td><a href="table-RHNCHECKSUMTYPE.html"> RHNCHECKSUMTYPE </a></td><td><a href="table-RHNCHECKSUMTYPE.html#cs-RHN_CHECKSUMTYPE_ID_PK">RHN_CHECKSUMTYPE_ID_PK </a>
</td><td>NO ACTION</td></tr>
<tr><td>RHN_CHANNEL_CPID_FK<a name="cs-RHN_CHANNEL_CPID_FK"></a></td><td><a href="table-RHNCHANNEL.html#col-CHANNEL_PRODUCT_ID">CHANNEL_PRODUCT_ID </a>
</td><td><a href="table-RHNCHANNELPRODUCT.html"> RHNCHANNELPRODUCT </a></td><td><a href="table-RHNCHANNELPRODUCT.html#cs-RHN_CHANNELPROD_ID_PK">RHN_CHANNELPROD_ID_PK </a>
</td><td>NO ACTION</td></tr>
<tr><td>RHN_CHANNEL_ORG_FK<a name="cs-RHN_CHANNEL_ORG_FK"></a></td><td><a href="table-RHNCHANNEL.html#col-ORG_ID">ORG_ID </a>
</td><td><a href="table-WEB_CUSTOMER.html"> WEB_CUSTOMER </a></td><td><a href="table-WEB_CUSTOMER.html#cs-WEB_CUSTOMER_ID_PK">WEB_CUSTOMER_ID_PK </a>
</td><td>NO ACTION</td></tr>
<tr><td>RHN_CHANNEL_PARENT_CH_FK<a name="cs-RHN_CHANNEL_PARENT_CH_FK"></a></td><td><a href="table-RHNCHANNEL.html#col-PARENT_CHANNEL">PARENT_CHANNEL </a>
</td><td><a href="table-RHNCHANNEL.html"> RHNCHANNEL </a></td><td><a href="table-RHNCHANNEL.html#cs-RHN_CHANNEL_ID_PK">RHN_CHANNEL_ID_PK </a>
</td><td>NO ACTION</td></tr>
<tr><td>RHN_CHANNEL_PRODUCT_NAME_CH_FK<a name="cs-RHN_CHANNEL_PRODUCT_NAME_CH_FK"></a></td><td><a href="table-RHNCHANNEL.html#col-PRODUCT_NAME_ID">PRODUCT_NAME_ID </a>
</td><td><a href="table-RHNPRODUCTNAME.html"> RHNPRODUCTNAME </a></td><td><a href="table-RHNPRODUCTNAME.html#cs-RHN_PRODUCTNAME_ID_PK">RHN_PRODUCTNAME_ID_PK </a>
</td><td>NO ACTION</td></tr>
</table><map name="erdmap"><area shape="rect" id="node1" href="table-RHNPRODUCTNAME.html#t-fk" title="RHNPRODUCTNAME" alt="" coords="19,41,176,71">
<area shape="rect" id="node6" href="table-RHNCHANNEL.html#t-fk" title="RHNCHANNEL" alt="" coords="237,148,355,177">
<area shape="rect" id="node2" href="table-WEB_CUSTOMER.html#t-fk" title="WEB_CUSTOMER" alt="" coords="29,95,165,124">
<area shape="rect" id="node3" href="table-RHNCHECKSUMTYPE.html#t-fk" title="RHNCHECKSUMTYPE" alt="" coords="15,148,180,177">
<area shape="rect" id="node4" href="table-RHNCHANNELARCH.html#t-fk" title="RHNCHANNELARCH" alt="" coords="20,201,175,231">
<area shape="rect" id="node5" href="table-RHNCHANNELPRODUCT.html#t-fk" title="RHNCHANNELPRODUCT" alt="" coords="5,255,189,284">
</map><img class="erd" usemap="#erdmap" src="RHNCHANNEL.png"/><h3>Options:<a name="t-opt"></a></h3>
<table>
<tr><th>Option</th><th>Settings</th></tr><tr><td>Tablespace</td><td>USERS</td></tr>
<tr><td>Index Organized</td><td>No</td></tr>
<tr><td>Generated by Oracle</td><td>No</td></tr>
<tr><td>Clustered</td><td>No</td></tr>
<tr><td>Nested</td><td>No</td></tr>
<tr><td>Temporary</td><td>No</td></tr>
</table><h3>Indexes:<a name="t-ind"></a></h3>
<table>
<tr><th>Index Name</th><th>Type</th><th>Unuqueness</th><th>Columns</th><th>DDL script</th></tr><tr><td>RHN_CHANNEL_ACCESS_IDX<a name="ind-RHN_CHANNEL_ACCESS_IDX"></a></td><td>NORMAL</td><td>NONUNIQUE</td><td><a href="table-RHNCHANNEL.html#col-CHANNEL_ACCESS">CHANNEL_ACCESS </a>
</td><td><a href="sql_sources/index/rhn_channel_access_idx.sql">DDL script</a></td></tr>
<tr><td>RHN_CHANNEL_ID_PK<a name="ind-RHN_CHANNEL_ID_PK"></a></td><td>NORMAL</td><td>UNIQUE</td><td><a href="table-RHNCHANNEL.html#col-ID">ID </a>
</td><td><a href="sql_sources/index/rhn_channel_id_pk.sql">DDL script</a></td></tr>
<tr><td>RHN_CHANNEL_LABEL_UQ<a name="ind-RHN_CHANNEL_LABEL_UQ"></a></td><td>NORMAL</td><td>UNIQUE</td><td><a href="table-RHNCHANNEL.html#col-LABEL">LABEL </a>
</td><td><a href="sql_sources/index/rhn_channel_label_uq.sql">DDL script</a></td></tr>
<tr><td>RHN_CHANNEL_NAME_UQ<a name="ind-RHN_CHANNEL_NAME_UQ"></a></td><td>NORMAL</td><td>UNIQUE</td><td><a href="table-RHNCHANNEL.html#col-NAME">NAME </a>
</td><td><a href="sql_sources/index/rhn_channel_name_uq.sql">DDL script</a></td></tr>
<tr><td>RHN_CHANNEL_ORG_IDX<a name="ind-RHN_CHANNEL_ORG_IDX"></a></td><td>NORMAL</td><td>NONUNIQUE</td><td><a href="table-RHNCHANNEL.html#col-ORG_ID">ORG_ID </a>
, <a href="table-RHNCHANNEL.html#col-ID">ID </a>
</td><td><a href="sql_sources/index/rhn_channel_org_idx.sql">DDL script</a></td></tr>
<tr><td>RHN_CHANNEL_PARENT_ID_IDX<a name="ind-RHN_CHANNEL_PARENT_ID_IDX"></a></td><td>NORMAL</td><td>NONUNIQUE</td><td><a href="table-RHNCHANNEL.html#col-PARENT_CHANNEL">PARENT_CHANNEL </a>
, <a href="table-RHNCHANNEL.html#col-ID">ID </a>
</td><td><a href="sql_sources/index/rhn_channel_parent_id_idx.sql">DDL script</a></td></tr>
</table><h3>Referenced by:<a name="t-refs"></a></h3>
<table>
<tr><th>Table</th><th>Constraint</th></tr><tr><td><a href="table-RHNCHANNELCONTENTSOURCE.html"> RHNCHANNELCONTENTSOURCE </a></td><td><a href="table-RHNCHANNELCONTENTSOURCE.html#cs-RHN_CCS_CID_FK">RHN_CCS_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELERRATA.html"> RHNCHANNELERRATA </a></td><td><a href="table-RHNCHANNELERRATA.html#cs-RHN_CE_CID_FK">RHN_CE_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELFAMILYMEMBERS.html"> RHNCHANNELFAMILYMEMBERS </a></td><td><a href="table-RHNCHANNELFAMILYMEMBERS.html#cs-RHN_CF_MEMBERS_C_FK">RHN_CF_MEMBERS_C_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELCLONED.html"> RHNCHANNELCLONED </a></td><td><a href="table-RHNCHANNELCLONED.html#cs-RHN_CHANNELCLONE_FCID_FK">RHN_CHANNELCLONE_FCID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELCLONED.html"> RHNCHANNELCLONED </a></td><td><a href="table-RHNCHANNELCLONED.html#cs-RHN_CHANNELCLONE_TCID_FK">RHN_CHANNELCLONE_TCID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELCOMPS.html"> RHNCHANNELCOMPS </a></td><td><a href="table-RHNCHANNELCOMPS.html#cs-RHN_CHANNELCOMPS_CID_FK">RHN_CHANNELCOMPS_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNEL.html"> RHNCHANNEL </a></td><td><a href="table-RHNCHANNEL.html#cs-RHN_CHANNEL_PARENT_CH_FK">RHN_CHANNEL_PARENT_CH_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELTRUST.html"> RHNCHANNELTRUST </a></td><td><a href="table-RHNCHANNELTRUST.html#cs-RHN_CHANNEL_TRUST_CID_FK">RHN_CHANNEL_TRUST_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELNEWESTPACKAGEAUDIT.html"> RHNCHANNELNEWESTPACKAGEAUDIT </a></td><td><a href="table-RHNCHANNELNEWESTPACKAGEAUDIT.html#cs-RHN_CNP_AT_CID_FK">RHN_CNP_AT_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELNEWESTPACKAGE.html"> RHNCHANNELNEWESTPACKAGE </a></td><td><a href="table-RHNCHANNELNEWESTPACKAGE.html#cs-RHN_CNP_CID_FK">RHN_CNP_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELPERMISSION.html"> RHNCHANNELPERMISSION </a></td><td><a href="table-RHNCHANNELPERMISSION.html#cs-RHN_CPERM_CIDFFK">RHN_CPERM_CIDFFK </a>
</td></tr>
<tr><td><a href="table-RHNCHANNELPACKAGE.html"> RHNCHANNELPACKAGE </a></td><td><a href="table-RHNCHANNELPACKAGE.html#cs-RHN_CP_CID_FK">RHN_CP_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNDISTCHANNELMAP.html"> RHNDISTCHANNELMAP </a></td><td><a href="table-RHNDISTCHANNELMAP.html#cs-RHN_DCM_CID_FK">RHN_DCM_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNERRATAFILECHANNELTMP.html"> RHNERRATAFILECHANNELTMP </a></td><td><a href="table-RHNERRATAFILECHANNELTMP.html#cs-RHN_EFILECTMP_CID_FK">RHN_EFILECTMP_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNERRATAFILECHANNEL.html"> RHNERRATAFILECHANNEL </a></td><td><a href="table-RHNERRATAFILECHANNEL.html#cs-RHN_EFILEC_CID_FK">RHN_EFILEC_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNERRATANOTIFICATIONQUEUE.html"> RHNERRATANOTIFICATIONQUEUE </a></td><td><a href="table-RHNERRATANOTIFICATIONQUEUE.html#cs-RHN_ENQUEUE_CID_FK">RHN_ENQUEUE_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNERRATAQUEUE.html"> RHNERRATAQUEUE </a></td><td><a href="table-RHNERRATAQUEUE.html#cs-RHN_EQUEUE_CID_FK">RHN_EQUEUE_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNKICKSTARTABLETREE.html"> RHNKICKSTARTABLETREE </a></td><td><a href="table-RHNKICKSTARTABLETREE.html#cs-RHN_KSTREE_CID_FK">RHN_KSTREE_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNKICKSTARTCHILDCHANNEL.html"> RHNKICKSTARTCHILDCHANNEL </a></td><td><a href="table-RHNKICKSTARTCHILDCHANNEL.html#cs-RHN_KS_CC_CID_FK">RHN_KS_CC_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNORGCHANNELSETTINGS.html"> RHNORGCHANNELSETTINGS </a></td><td><a href="table-RHNORGCHANNELSETTINGS.html#cs-RHN_ORGCSETTINGS_CID_FK">RHN_ORGCSETTINGS_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNRELEASECHANNELMAP.html"> RHNRELEASECHANNELMAP </a></td><td><a href="table-RHNRELEASECHANNELMAP.html#cs-RHN_RCM_CID_FK">RHN_RCM_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNREGTOKENCHANNELS.html"> RHNREGTOKENCHANNELS </a></td><td><a href="table-RHNREGTOKENCHANNELS.html#cs-RHN_REG_TOK_CHN_SGS_FK">RHN_REG_TOK_CHN_SGS_FK </a>
</td></tr>
<tr><td><a href="table-RHNSERVERCHANNEL.html"> RHNSERVERCHANNEL </a></td><td><a href="table-RHNSERVERCHANNEL.html#cs-RHN_SC_CID_FK">RHN_SC_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNSERVERPROFILE.html"> RHNSERVERPROFILE </a></td><td><a href="table-RHNSERVERPROFILE.html#cs-RHN_SERVER_PROFILE_BCID_FK">RHN_SERVER_PROFILE_BCID_FK </a>
</td></tr>
<tr><td><a href="table-RHNSNAPSHOTCHANNEL.html"> RHNSNAPSHOTCHANNEL </a></td><td><a href="table-RHNSNAPSHOTCHANNEL.html#cs-RHN_SNAPCHAN_CID_FK">RHN_SNAPCHAN_CID_FK </a>
</td></tr>
<tr><td><a href="table-RHNSERVERNEEDEDCACHE.html"> RHNSERVERNEEDEDCACHE </a></td><td><a href="table-RHNSERVERNEEDEDCACHE.html#cs-RHN_SNCP_CID_FK">RHN_SNCP_CID_FK </a>
</td></tr>
</table><h3>Triggers</h3>
<a name="t-trgs"></a><a name="trg-RHN_CHANNEL_ACCESS_TRIG"></a><h4>RHN_CHANNEL_ACCESS_TRIG</h4>
<pre>
Legend: <span class="comment">comment</span> <span class="string">string</span> <span class="keyword">keyword</span> <span class="reserved">reserved word</span> <span class="operator">operator</span></pre>
<pre>
<span class="reserved">CREATE</span> TRIGGER 
rhn_channel_access_trig
after <span class="reserved">update</span> <span class="reserved">on</span> rhnChannel
<span class="reserved">for</span> each <span class="keyword">row</span>

REFERENCING <span class="keyword">NEW</span> <span class="reserved">AS</span> <span class="keyword">NEW</span> OLD <span class="reserved">AS</span> OLD
<span class="reserved">begin</span>
   <span class="reserved">if</span> <span class="operator">:</span>old<span class="operator">.</span>channel_access <span class="operator">=</span> <span class="string">'protected'</span> <span class="reserved">and</span>
      <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>channel_access <span class="operator">!</span><span class="operator">=</span> <span class="string">'protected'</span>
   <span class="reserved">then</span>
      <span class="reserved">delete</span> <span class="reserved">from</span> rhnChannelTrust <span class="reserved">where</span> channel_id <span class="operator">=</span> <span class="operator">:</span>old<span class="operator">.</span>id;
   <span class="reserved">end</span> <span class="reserved">if</span>;
<span class="reserved">end</span>;
</pre>
<a name="trg-RHN_CHANNEL_DEL_TRIG"></a><h4>RHN_CHANNEL_DEL_TRIG</h4>
<pre>
Legend: <span class="comment">comment</span> <span class="string">string</span> <span class="keyword">keyword</span> <span class="reserved">reserved word</span> <span class="operator">operator</span></pre>
<pre>
<span class="reserved">CREATE</span> TRIGGER 
rhn_channel_del_trig
before <span class="reserved">delete</span> <span class="reserved">on</span> rhnChannel
<span class="reserved">for</span> each <span class="keyword">row</span>

REFERENCING <span class="keyword">NEW</span> <span class="reserved">AS</span> <span class="keyword">NEW</span> OLD <span class="reserved">AS</span> OLD
<span class="reserved">declare</span>
	<span class="keyword">cursor</span> snapshots <span class="reserved">is</span>
		<span class="reserved">select</span>	snapshot_id id
		<span class="reserved">from</span>	rhnSnapshotChannel
		<span class="reserved">where</span>	channel_id <span class="operator">=</span> <span class="operator">:</span>old<span class="operator">.</span>id;
<span class="reserved">begin</span>
	<span class="reserved">for</span> snapshot <span class="reserved">in</span> snapshots <span class="keyword">loop</span>
		<span class="reserved">update</span> rhnSnapshot
			<span class="keyword">set</span> invalid <span class="operator">=</span> lookup_snapshot_invalid_reason<span class="operator">(</span><span class="string">'channel_removed'</span><span class="operator">)</span>
			<span class="reserved">where</span> id <span class="operator">=</span> snapshot<span class="operator">.</span>id;
		<span class="reserved">delete</span> <span class="reserved">from</span> rhnSnapshotChannel
			<span class="reserved">where</span> snapshot_id <span class="operator">=</span> snapshot<span class="operator">.</span>id
				<span class="reserved">and</span> channel_id <span class="operator">=</span> <span class="operator">:</span>old<span class="operator">.</span>id;
	<span class="reserved">end</span> <span class="keyword">loop</span>;
<span class="reserved">end</span>;
</pre>
<a name="trg-RHN_CHANNEL_MOD_TRIG"></a><h4>RHN_CHANNEL_MOD_TRIG</h4>
<pre>
Legend: <span class="comment">comment</span> <span class="string">string</span> <span class="keyword">keyword</span> <span class="reserved">reserved word</span> <span class="operator">operator</span></pre>
<pre>
<span class="reserved">CREATE</span> TRIGGER 
rhn_channel_mod_trig
before <span class="reserved">insert</span> <span class="reserved">or</span> <span class="reserved">update</span> <span class="reserved">on</span> rhnChannel
<span class="reserved">for</span> each <span class="keyword">row</span>

REFERENCING <span class="keyword">NEW</span> <span class="reserved">AS</span> <span class="keyword">NEW</span> OLD <span class="reserved">AS</span> OLD
<span class="reserved">begin</span>
	<span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>last_modified <span class="operator">:</span><span class="operator">=</span> current_timestamp;
	<span class="comment">-- this is a really bad way of saying "if all we''re</span>
	<span class="comment">-- changing is the date"</span>
	<span class="reserved">if</span> updating <span class="reserved">then</span>
		<span class="reserved">if</span> <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>id <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>id<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>parent_channel <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>parent_channel<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>org_id <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>org_id<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>channel_arch_id <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>channel_arch_id<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>label <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>label<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>basedir <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>basedir<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span><span class="keyword">name</span> <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span><span class="keyword">name</span><span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>summary <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>summary<span class="operator">)</span> <span class="reserved">or</span>
		  <span class="operator">(</span><span class="operator">:</span>old<span class="operator">.</span>description <span class="operator">!</span><span class="operator">=</span> <span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>description<span class="operator">)</span> <span class="reserved">then</span>
			<span class="operator">:</span><span class="keyword">new</span><span class="operator">.</span>modified <span class="operator">:</span><span class="operator">=</span> current_timestamp;
		<span class="reserved">end</span> <span class="reserved">if</span>;
	<span class="reserved">end</span> <span class="reserved">if</span>;
<span class="reserved">end</span>;
</pre>
<div class="footer">
        Generated by  <a href="http://www.yarpen.cz/oraschemadoc">OraSchemaDoc</a>,
        (c) Petr Vanek, 2005; Aram Kananov, 2002, on Wed Apr 11 12:23:07 2018</div>
</body></html>
